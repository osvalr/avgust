/*
* Copyright «©» 2016, J.R Totem. All rights reserved.
*
* This file was generated by MybatisModelGenerator v.3.0.
* All changes made in this file will be lost if you recompile the source schema.
*
* [GeneratorCrud v.1.0] by JRaffo 
*/

/**
* @author  Javier Raffo
* @version 1.0
* @since   10/03/2016 00:37:53
*/
Ext.define('MyApp.view.MttoSaldo.SaldoGuiaPesoQueryList' ,{
    extend: 'Ext.grid.Panel',
    alias : 'widget.SaldoGuiaPesoQueryList',

    requires: ['Ext.grid.feature.GroupingSummary','Ext.grid.feature.Summary'],
    
    iconCls:'fa fa-pencil',
    renderTo: document.body,
	header: false,
    store: 'GestionarGuia.GuiaPesoQueryStore',	
    features: [
        {
	        ftype: 'groupingsummary',
	        groupHeaderTpl: '{name} ({rows.length})',
	        hideGroupedHeader: true,
	        enableGroupingMenu: false,
	        startCollapsed: false
        }

    ], 
    
//    flex:1,
        
    columns: [
		{
	    	header: "id_guia_peso",
			flex:115 / 100,
			dataIndex: 'id_guia_peso',
			hidden:true
		}
		,{
			header: "id_guia",
			flex:115 / 100,
			dataIndex: 'id_guia',
			hidden:true
		}
		,{
			header: "Año",
			flex:115 / 100,
			dataIndex: 'num_anio',
			hidden:true
		}
		,{
			header: "Mes",
			flex:115 / 100,
			dataIndex: 'num_mes',
			hidden:true
		}
		,{
			header: "Dia",
			flex:115 / 100,
			dataIndex: 'num_dia',
			hidden:true
		}
		,{
			header: "Tipo Peso",
			flex:115 / 100,
			dataIndex: 'descrip_tipo_peso',
			hidden:false
		},
		{
			text: "Nro. Jabas",
			flex:115 / 100,
			dataIndex: 'num_jabas',
			hidden:false,
		    field: {
		        xtype: 'numberfield'
		    },
            summaryType: 'sum',
            summaryRenderer: function(value, summaryData, dataIndex) {
                return ((value === 0 || value > 1) ? '<b>(' + value + ' Jabas)</b>' : '<b>(Una Jaba)</b>');
            }
		}
		,{
			header: "Nro. Aves",
			flex:115 / 100,
			dataIndex: 'num_aves',
			hidden:false,
		    field: {
		        xtype: 'numberfield'
		    },
            summaryType: 'sum',
            summaryRenderer: function(value, summaryData, dataIndex) {
                return ((value === 0 || value > 1) ? '<b>(' + value + ' Aves)</b>' : '<b>(Una Ave)</b>');
            }
		}
		,{
			header: "Peso",
			flex:115 / 100,
			dataIndex: 'peso_obtenido',
			hidden:false,
		    field: {
		        xtype: 'numberfield'
		    },
		    id:'c_peso_obtenido',
            summaryType: 'sum',
            summaryRenderer: function(value, summaryData, dataIndex) {
            		return '<b>' + value + ' Kg.</b>';                
            }
		}
		,{
			header: "Estado",
			flex:115 / 100,
			dataIndex: 'descrip_estado',
			hidden:false
		}
		,{
			header: "F. Registro",
			flex:115 / 100,
			dataIndex: 'fecha_registro',
			hidden:false
		}
	],
	
	initComponent: function() {
				
		this.dockedItems = [
        
        {
			xtype : 'container',
			layout : {
						type : 'hbox',
						align : 'stretch'

					},
			items : [

					{
		                xtype: 'form',
		                id: 'form_totales',
		                title:'Totales',
                    	width: '100%',

		                fieldDefaults: {
		                    labelAlign: 'top',
		                    margin: "0 5 5 5"
		                },
                		items: [
                                {
                                	xtype: 'container',
                                	layout: {
                                		type: 'hbox'
                                	},
                                	items: [
	        									{
	        										xtype : 'textfield',
	        										hidden : false,
	        										editable : false,
	        										fieldLabel : 'Peso Bruto',
	        										name : 'total_peso_bruto',
	        										disabled : false,
	        										fieldStyle : 'text-align:right;font-weight: bold;color:blue;',
	        										flex:1,
	        										value:0
	        									},
	        									{
	        										xtype : 'textfield',
	        										hidden : false,
	        										editable : false,
	        										fieldLabel : 'Peso Tara',
	        										name : 'total_peso_tara',
	        										disabled : false,
	        										fieldStyle : 'text-align:right;font-weight: bold;color:red;',
	        										flex:1,
	        										value:0
	        									},
	        									{
	        										xtype : 'textfield',
	        										hidden : false,
	        										editable : false,
	        										fieldLabel : 'Peso Devoluciones',
	        										name : 'total_peso_devolucion',
	        										disabled : false,
	        										fieldStyle : 'text-align:right;font-weight: bold;color:red;',
	        										flex:1,
	        										value:0
	        									},
	        									{
	        										xtype : 'textfield',
	        										hidden : false,
	        										editable : false,
	        										fieldLabel : 'Peso Neto',
	        										name : 'total_peso_neto',
	        										disabled : false,
	        										fieldStyle : 'text-align:right;font-weight: bold;color:green;',
	        										flex:1,
	        										value:0
	        									}
                                	        ]
                                	}

                		       ]
					}

					]
		}
//        ,        
        
//        {
//            xtype: 'pagingtoolbar',
//            dock:'top',
//            store: 'GestionarGuia.GuiaPesoQueryStore',
//            displayInfo: true
//        }
		];
		
		this.callParent(arguments);
	}
});
